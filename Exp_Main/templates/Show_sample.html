{% extends 'base.html' %}

{% block content %}
    {% include "Modal/_modal.html" %}
    {% load render_table from django_tables2 %}
    {% load bootstrap3 %}
    {% if filter %}
        <form action="" method="get" class="form form-inline">
            {% bootstrap_form filter.form layout='inline' %}
            {% bootstrap_button 'Filter' button_class='btn btn-primary' %}
        </form>
    {% endif %}
    {% render_table table %}
    {{excluded_columns}}
{% endblock content %}
{% block extrascripts %}
  <script type="text/javascript">
    $(function () {

      // Create entry button
      $(".create-entry").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

      // Update entry buttons
      $(".update-entry").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

      // Read entry buttons
      $(".read-entry").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

      // Delete entry buttons
      $(".delete-entry").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      })

    });
  </script>
{% endblock extrascripts %}

